export class RingBuffer{constructor(bytes){this.buffer=new Uint8Array(bytes);this.readPtr=0;this.writePtr=0;this.size=bytes;this.length=0;}write(u8){const n=Math.min(u8.length,this.size-this.length);for(let i=0;i<n;i++){this.buffer[this.writePtr++]=u8[i];if(this.writePtr===this.size)this.writePtr=0;}this.length+=n;return n;}read(n){const out=new Uint8Array(Math.min(n,this.length));for(let i=0;i<out.length;i++){out[i]=this.buffer[this.readPtr++];if(this.readPtr===this.size)this.readPtr=0;}this.length-=out.length;return out;}}